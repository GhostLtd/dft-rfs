{%- import _self as s -%}
{% macro _actionLink(action, _kw) %}{% strict false %}
    <a class="govuk-link{% if action.classes %} {{ action.classes }}{% endif %}" href="{{ action.href }}"{% for attribute, value in action.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
    {{ action.html ? (action.html | raw) : action.text }}{% if action.visuallyHiddenText %}<span class="govuk-visually-hidden"> {{ action.visuallyHiddenText }}</span>
    {%- endif %}</a>
{% endstrict %}{% endmacro %}

{%- set anyRowHasActions = false %}
{% for row in params.rows %}
    {% set anyRowHasActions = row.actions.items ? true : anyRowHasActions %}
{% endfor %}<dl class="govuk-summary-list{% if params.classes %} {{ params.classes }}{% endif %}"{% for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
{% for row in params.rows %}
    {% if row %}
        <div class="govuk-summary-list__row{% if row.classes %} {{ row.classes }}{% endif %}">
            <dt class="govuk-summary-list__key{% if row.key.classes %} {{ row.key.classes }}{% endif %}">
                {{ row.key.html ? (row.key.html | raw) : row.key.text }}
            </dt>
            <dd class="govuk-summary-list__value{% if row.value.classes %} {{ row.value.classes }}{% endif %}">
                {{ row.value.html ? (row.value.html | njIndent(8) | njTrim | raw) : row.value.text }}
            </dd>
            {% if row.actions.items | length %}
                <dd class="govuk-summary-list__actions{% if row.actions.classes %} {{ row.actions.classes }}{% endif %}">
                    {% if row.actions.items | length == 1 %}
                        {{ s._actionLink(row.actions.items[0]) | njIndent(12) | njTrim }}
                    {% else %}
                        <ul class="govuk-summary-list__actions-list">
                            {% for action in row.actions.items %}
                                <li class="govuk-summary-list__actions-list-item">
                                    {{ s._actionLink(action) | njIndent(18) | njTrim }}
                                </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </dd>
            {% else %}{% if anyRowHasActions %}

                <span class="govuk-summary-list__actions"></span>
            {% endif %}{% endif %}
        </div>
    {% endif %}
{% endfor %}
</dl>